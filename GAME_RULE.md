# 게임 규칙

> 과일 캐치 게임 - 포즈 인식으로 바구니를 움직여 떨어지는 과일을 받는 게임!

## 🎮 게임 제목

**🍎 Fruit Catch - 과일 캐치 게임**

---

## 📝 게임 설명

하늘에서 떨어지는 과일을 포즈 인식으로 바구니를 움직여 받는 게임입니다!

- 얼굴 방향을 왼쪽/오른쪽/정면으로 움직여 바구니 위치를 조절하세요
- 과일을 받으면 점수를 획득하고, 폭탄을 받으면 게임 오버!
- 과일을 3번 놓치면 게임이 종료됩니다
- 시간이 지날수록 아이템이 빠르게 떨어집니다

---

## 🎯 게임 목표

- **주 목표**: 최대한 많은 과일을 받아 높은 점수 획득하기
- **목표 점수**: 500점 이상
- **생존 시간**: 60초 이상 버티기

---

## 🕹️ 게임 규칙

### 기본 규칙

1. **시작**
   - "게임 시작" 버튼을 클릭하여 게임 시작
   - 웹캠 권한을 허용해야 포즈 인식이 작동합니다

2. **바구니 조작**
   - **왼쪽 포즈** → 바구니가 왼쪽 구역으로 이동
   - **정면 포즈** → 바구니가 중앙 구역으로 이동
   - **오른쪽 포즈** → 바구니가 오른쪽 구역으로 이동

3. **아이템 받기**
   - 화면 상단에서 아이템(과일/폭탄)이 랜덤하게 떨어집니다
   - 바구니가 있는 위치에 아이템이 도착하면 캐치!
   - 과일을 받으면 점수 획득, 폭탄을 받으면 즉시 게임 오버

4. **게임 오버 조건**
   - 💣 **폭탄을 받으면** → 즉시 게임 오버
   - 🍎 **과일을 3번 놓치면** → 게임 오버
   - ⏰ **제한 시간 종료** (선택적)

### 추가 규칙

- **레벨 시스템**: 20초마다 레벨이 1씩 증가하며 아이템 낙하 속도가 빨라집니다
- **콤보 시스템**: 과일을 연속으로 5개 받으면 보너스 +50점
- **난이도 증가**: 레벨이 올라갈수록 폭탄 출현 확률 증가

---

## 🎨 필요한 포즈 목록

게임에 필요한 포즈는 현재 학습된 모델의 라벨과 일치합니다.

| 포즈 이름 | 게임 내 역할 | 설명 | 예시 |
|---------|------------|------|------|
| 왼쪽 | 바구니를 왼쪽으로 이동 | 얼굴을 왼쪽으로 돌린 상태 | 👈 |
| 오른쪽 | 바구니를 오른쪽으로 이동 | 얼굴을 오른쪽으로 돌린 상태 | 👉 |
| 정면 | 바구니를 중앙으로 이동 | 정면을 바라본 상태 | 😊 |
| 위 | (미사용) | 얼굴을 위로 올린 상태 | 👆 |
| 아래 | (미사용) | 얼굴을 아래로 내린 상태 | 👇 |

> **참고**: 이 게임은 3개 구역(왼쪽/중앙/오른쪽)만 사용하므로 "위", "아래" 포즈는 사용하지 않습니다.

---

## 🍎 아이템 종류

| 아이템 | 이모지 | 점수 | 설명 |
|-------|-------|------|------|
| 사과 | 🍎 | +100점 | 기본 과일 |
| 바나나 | 🍌 | +150점 | 중급 과일 |
| 수박 | 🍉 | +200점 | 고급 과일 |
| 체리 | 🍒 | +250점 | 레어 과일 (낮은 확률) |
| 폭탄 | 💣 | 게임 오버 | 받으면 즉시 게임 종료! |

### 아이템 출현 확률

**레벨 1-2 (초반)**
- 사과: 40%
- 바나나: 30%
- 수박: 20%
- 체리: 5%
- 폭탄: 5%

**레벨 3-4 (중반)**
- 사과: 30%
- 바나나: 25%
- 수박: 25%
- 체리: 10%
- 폭탄: 10%

**레벨 5+ (후반)**
- 사과: 25%
- 바나나: 20%
- 수박: 20%
- 체리: 15%
- 폭탄: 20%

---

## 📊 점수 체계

| 행동 | 점수 |
|-----|------|
| 사과 받기 | +100점 |
| 바나나 받기 | +150점 |
| 수박 받기 | +200점 |
| 체리 받기 | +250점 |
| 5콤보 달성 | +50점 (보너스) |
| 10콤보 달성 | +100점 (보너스) |
| 과일 놓침 | 점수 변화 없음 (미스 카운트 +1) |
| 폭탄 받기 | 게임 오버 |

---

## ⏱️ 시간 및 속도 설정

### 기본 설정
- **제한 시간**: 무제한 (생존형 게임)
- **레벨업 주기**: 20초마다 레벨 +1
- **아이템 생성 간격**: 1.5초 ~ 2.5초 (랜덤)

### 레벨별 낙하 속도

| 레벨 | 낙하 시간 | 설명 |
|-----|---------|------|
| 1 | 4초 | 매우 느림 (연습 단계) |
| 2 | 3.5초 | 느림 |
| 3 | 3초 | 보통 |
| 4 | 2.5초 | 빠름 |
| 5+ | 2초 | 매우 빠름 |

---

## 🎖️ 난이도 설정

게임은 자동으로 난이도가 증가하는 시스템입니다.

| 레벨 | 난이도 | 낙하 속도 | 폭탄 확률 | 목표 점수 |
|-----|-------|---------|---------|---------|
| 1-2 | 쉬움 | 느림 | 5% | 300점 |
| 3-4 | 보통 | 보통 | 10% | 600점 |
| 5+ | 어려움 | 빠름 | 20% | 1000점+ |

---

## 🎮 게임 화면 구성

### 화면 레이아웃

```
┌─────────────────────────────────────┐
│  점수: 350  레벨: 2  미스: 1/3  콤보: 3 │ ← 상단 정보 바
├─────────────────────────────────────┤
│                                     │
│        🍎    💣      🍌            │ ← 떨어지는 아이템들
│                                     │
│              🍉                     │
│                                     │
│   [LEFT]  [CENTER]  [RIGHT]        │ ← 3개 구역 표시
│     🧺                              │ ← 바구니 위치
└─────────────────────────────────────┘
│   현재 포즈: 왼쪽                    │ ← 포즈 인식 상태
│   [웹캠 미리보기]                   │ ← 작은 웹캠 화면
└─────────────────────────────────────┘
```

### UI 요소

1. **상단 정보 바**
   - 현재 점수
   - 현재 레벨
   - 미스 카운트 (X/3)
   - 현재 콤보 수

2. **게임 영역**
   - 3개 구역 (왼쪽/중앙/오른쪽)
   - 떨어지는 아이템들
   - 바구니 (플레이어)

3. **포즈 인식 영역**
   - 현재 인식된 포즈 표시
   - 웹캠 미리보기 (작게)

4. **게임 오버 화면**
   - 최종 점수
   - 최고 레벨
   - 총 받은 과일 수
   - 다시하기 버튼

---

## 🎵 추가 기능 (선택사항)

- [x] 효과음 추가
  - 과일 받기 사운드 (종류별 다른 소리)
  - 폭탄 폭발 사운드
  - 콤보 달성 사운드
  - 레벨업 사운드
- [ ] 배경음악 (경쾌한 BGM)
- [x] 콤보 시스템 (5콤보, 10콤보)
- [ ] 로컬 스토리지에 최고 점수 저장
- [ ] 파티클 효과 (과일 받을 때)
- [ ] 난이도 선택 기능 (쉬움/보통/어려움)

---

## 💡 게임 개발 팁

### Teachable Machine 모델 확인

현재 `my_model/metadata.json`의 라벨:
```json
{
  "labels": ["왼쪽", "오른쪽", "정면", "위", "아래"]
}
```

이 게임에서는 **"왼쪽", "오른쪽", "정면"** 3개만 사용합니다.

### 게임 로직 구현 시 핵심 포인트

1. **구역 시스템**
   - 화면을 3등분하여 LEFT, CENTER, RIGHT 구역 생성
   - 각 구역의 x 좌표 범위 정의

2. **아이템 생성**
   - 랜덤한 x 위치(3개 구역 중 하나)에서 생성
   - 레벨에 따라 아이템 종류 확률 조정

3. **충돌 감지**
   - 아이템의 y 좌표가 바구니 위치에 도달했을 때
   - 아이템의 x 좌표와 바구니의 x 좌표가 같은 구역인지 확인

4. **포즈 매핑**
   ```javascript
   const poseToZone = {
     "왼쪽": "LEFT",
     "정면": "CENTER",
     "오른쪽": "RIGHT"
   };
   ```

---

## 📝 개발 체크리스트

게임 개발 과정을 체크하세요.

- [x] 게임 규칙 작성 완료
- [x] Teachable Machine 모델 학습 완료 (기존 모델 사용)
- [x] 모델 파일 `my_model/` 폴더에 배치 완료
- [ ] `js/gameEngine.js` 게임 로직 구현
  - [ ] 아이템 생성 시스템
  - [ ] 아이템 낙하 애니메이션
  - [ ] 충돌 감지 시스템
  - [ ] 점수 및 레벨 관리
  - [ ] 미스 카운트 및 게임 오버 처리
- [ ] `index.html` UI 수정
  - [ ] 게임 영역 추가
  - [ ] 점수판 UI
  - [ ] 게임 오버 화면
- [ ] `css/style.css` 스타일 적용
  - [ ] 게임 영역 레이아웃
  - [ ] 아이템 스타일
  - [ ] 바구니 애니메이션
- [ ] 로컬 테스트 완료
- [ ] GitHub에 push
- [ ] GitHub Pages 배포 완료

---

## 🚀 다음 단계

1. ✅ 게임 규칙 작성 완료
2. ✅ 모델 확인 완료 (기존 모델 사용)
3. ⏭️ **다음**: AI 코딩 도구에게 게임 로직 구현 요청
4. 테스트 및 디버깅
5. 배포!

---

## 🎯 AI 코딩 도구에게 요청할 프롬프트 예시

```
이 GAME_RULE.md를 읽고 과일 캐치 게임을 구현해줘.

1단계: gameEngine.js에 아이템 낙하 시스템 구현
2단계: index.html에 게임 UI 추가
3단계: style.css로 게임 화면 디자인
4단계: 로컬 테스트

각 단계를 하나씩 진행하면서 검증 가능하게 만들어줘.
```
